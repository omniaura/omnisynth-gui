#:kivy 2.0.0
#:include components/screens/bootScreen/bootScreen.kv
#:include components/screens/bootScreen/mainScreen.kv
#:include components/screens/knobValScreen/knobValScreen.kv
#:include components/screens/soundScreen/soundScreen.kv
OmniApp:
    id: screenManager
    BootScreen:
        id: Boot_Screen
    MainGUI:
        id: Main_GUI
    SoundScreen:
        id: PatchScreen_1
        sound_names: root.patch_matrix[0]
        next_screen: 'PatchScreen_2'
        page_number: 1
        name: 'PatchScreen_1'
    SoundScreen:
        id: PatchScreen_2
        sound_names: root.patch_matrix[1]
        prev_screen: 'PatchScreen_1'
        next_screen: 'PatchScreen_3'
        page_number: 2
        name: 'PatchScreen_2'
    SoundScreen:
        id: PatchScreen_3
        sound_names: root.patch_matrix[2]
        prev_screen: 'PatchScreen_2'
        next_screen: 'PatchScreen_4'
        page_number: 3
        name: 'PatchScreen_3'
    SoundScreen:
        id: PatchScreen_4
        sound_names: root.patch_matrix[3]
        prev_screen: 'PatchScreen_3'
        page_number: 4
        name: 'PatchScreen_4'
    SoundScreen:
        id: PatternScreen_1
        sound_names: root.pattern_matrix[0]
        next_screen: 'PatternScreen_2'
        page_number: 1
        name: 'PatternScreen_1'
    SoundScreen:
        id: PatternScreen_2
        sound_names: root.pattern_matrix[1]
        prev_screen: 'PatternScreen_1'
        next_screen: 'PatternScreen_3'
        page_number: 2
        name: 'PatternScreen_2'
    SoundScreen:
        id: PatternScreen_3
        sound_names: root.pattern_matrix[2]
        prev_screen: 'PatternScreen_2'
        next_screen: 'PatternScreen_4'
        page_number: 3
        name: 'PatternScreen_3'
    SoundScreen:
        id: PatternScreen_4
        sound_names: root.pattern_matrix[3]
        prev_screen: 'PatternScreen_3'
        page_number: 4
        name: 'PatternScreen_4'
    WaveFormPage:
        id: Wave_Form_Page
    Tone5Page:
        id: Tone_5_Page
    KnobValScreen:
        id: Knob_Val_Page
    MidiLearnPage:
        id: MIDI_Learn_Page

<WaveFormPage>
    name: 'WaveFormPage'
    BoxLayout:
        orientation: 'horizontal'
        BoxLayout:
            orientation: 'vertical'
            size_hint: 0.1, 1
            Button:
                text: 'Back'
                size_hint: 0.9, 0.1
                on_release: root.manager.current = 'MainGUI'
            
        #WaveForm:
        #    size_hint: 0.9, 1

<Tone5Page>
    name: 'Tone5Page'
    Label:
        text: 'Knob Value Page'
        pos_hint: {'x': 0.5 , 'y': 0.9}
    Button:
        text: 'Back'
        size_hint_x: 0.1
        size_hint_y: 0.1
        pos_hint: {'x': 0.025, 'y': 0.05}
        on_release: root.manager.current = 'MainGUI'
    Button:
        text: 'Map Mode'
        size_hint_x: 0.1
        size_hint_y: 0.1
        pos_hint: {'x': 0.9, 'y':0}
        on_release: root.learnMidi()

<MidiLearnPage>
    name: 'MidiLearnPage'
    Button:
        text: 'Back'
        size_hint_x: 0.15
        size_hint_y: 0.15
        pos_hint: {'x': 0.02, 'y': 0.05}
        on_release: root.manager.current = 'MidiLearnPage'
